<div class="container">
  <div class="header">
    <div>
      <p class="eyebrow">Cerința III.d</p>
      <h2>Funcții grup și clauza HAVING</h2>
      <p class="subtitle">Statistici restaurante: număr produse și preț mediu — filtrate după număr minim de produse</p>
    </div>
  </div>

  <div class="filters">
    <div class="filter-group">
      <label>Număr minim produse (HAVING)</label>
      <select [(ngModel)]="selectedMinProducts" (change)="onMinProductsChange()">
        <option *ngFor="let opt of minProductsOptions" [value]="opt.value">{{ opt.label }}</option>
      </select>
    </div>

    <div class="filter-group full">
      <label>Caută restaurant</label>
      <input type="text" [(ngModel)]="searchRestaurant" (input)="applyFilters()" placeholder="Ex: Pizza" />
    </div>
  </div>

  <div *ngIf="loading" class="status">Se încarcă datele...</div>
  <div *ngIf="error" class="status error">{{ error }}</div>

  <table class="styled-table" *ngIf="!loading && !error && filteredData.length > 0">
    <thead>
      <tr>
        <th *ngFor="let col of columns">{{ col }}</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let row of filteredData">
        <td *ngFor="let col of columns">{{ row[col] }}</td>
      </tr>
    </tbody>
  </table>

  <div *ngIf="!loading && !error && filteredData.length === 0" class="status">Nu există rezultate pentru condițiile selectate.</div>
</div>
